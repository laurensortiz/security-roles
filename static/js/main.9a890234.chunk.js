(this["webpackJsonp@cos/security-roles-example"]=this["webpackJsonp@cos/security-roles-example"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);a(52);var r=a(0),n=a.n(r),o=a(12),i=a.n(o),l=a(102),s=a(46),d=a(105),c=a(106),p=a(103),m=a(104),u=a(43),f=a.n(u),g=a(18),h=a.n(g),R=a(23),I=a(13),E=a(30),v=a.n(E);function y(e,t){return t||(t=e.slice(0)),e.raw=t,e}function D(){var e=y(["\n  color: #008a60 !important;\n  font-size: 16px;\n"]);return D=function(){return e},e}function C(){var e=y(["\n  color: #0077ac !important;\n  cursor: pointer;\n  font-size: 16px;\n"]);return C=function(){return e},e}function M(){var e=y(["\n  padding-left: 1rem;\n  margin-left: 2rem;\n  margin-bottom: 30px;\n  border-left: 3px solid #0077ac !important;\n"]);return M=function(){return e},e}var L=I.a.div(M()),U=I.a.i(C()),b=I.a.i(D()),w=function(e){var t={position:"inherit",top:40,left:40,color:"#888",fill:"#000",width:"100%"},a=n.a.createElement(U,{className:"feather icon-list align-middle"}),r=n.a.createElement(U,{className:"feather icon-layers align-middle"}),o=n.a.createElement(b,{className:"feather icon-check align-middle"});return n.a.createElement(L,null,n.a.createElement("h6",null,"Perfiles y permisos"),e.row.profileList.length>0?e.row.profileList.map((function(e){return n.a.createElement(R.a,{key:e.profileId,content:e.name,type:a,open:!0,style:t},e.moduleList.map((function(e){return n.a.createElement(R.a,{key:e.moduleId,content:e.name,type:r,open:!0,style:t},e.actionList.map((function(e){return n.a.createElement(R.a,{key:e.actionId,type:o,content:e.name})})))})))})):n.a.createElement("h6",null,"No existen permisos asociados"))};function A(){var e=y(["\nmargin-bottom: 10px;\ntext-align: right"]);return A=function(){return e},e}function x(){var e=y(["\n  margin-right: 10px;\n"]);return x=function(){return e},e}var K=I.a.i(x()),S=I.a.div(A()),k=function(e){return n.a.createElement(S,null,n.a.createElement(l.a,null,e.addView?n.a.createElement(s.a,null,n.a.createElement(d.a.Title,{as:"h5"},"A\xf1adir Rol")):n.a.createElement(s.a,null,n.a.createElement(c.a,{onClick:e.handleView},n.a.createElement(K,{className:"feather icon-plus"}),"A\xf1adir Rol"))))};function N(){var e=y(["\n  color: #ffffff !important;\n  margin-right: 0 !important;\n"]);return N=function(){return e},e}var G=I.a.i(N()),F=function(e){var t=function(){e.setCurrentId(e.roleId)};return n.a.createElement(l.a,null,n.a.createElement(s.a,{xs:12,sm:6,lg:2},n.a.createElement(c.a,{onClick:function(){e.openUpdateModal(e.roleId),t()}},n.a.createElement(G,{className:"feather icon-edit"}))),n.a.createElement(s.a,{xs:12,sm:6,lg:2},n.a.createElement(c.a,{onClick:function(){e.openDeleteModal(),t()},className:"btn-danger"},n.a.createElement(G,{className:"feather icon-trash-2"}))))};function q(){var e=y(["\n    color: #0077AC !important;\n    cursor: pointer;\n    font-size: 16px;\n"]);return q=function(){return e},e}var B=I.a.i(q()),H=function(e){var t=e.expanded?"icon-minus-square":"icon-plus-square";return n.a.createElement(B,{className:"feather "+t})};function T(){var e=y(["\n  color: #545454;\n  line-height:1;\n  margin-bottom: 0;\n"]);return T=function(){return e},e}var V=I.a.p(T()),z=function(e){var t=e.name;return n.a.createElement("div",null,n.a.createElement(V,null,t))};function O(){var e=y(["\n  color: #545454;\n  line-height:1;\n  margin-bottom: 0;\n"]);return O=function(){return e},e}var P=I.a.p(O()),_=function(e){var t=e.description;return n.a.createElement("div",null,n.a.createElement(P,null,t))},j=function(e){var t=e.isDeleting||e.isDeleteSuccess;return n.a.createElement(p.a,{show:e.showModal,onHide:function(){return e.toggleDeleteModal()},centered:!0},n.a.createElement(p.a.Header,{closeButton:!0},n.a.createElement(p.a.Title,{as:"h5"},"Confirmaci\xf3n")),n.a.createElement(p.a.Body,null,n.a.createElement("h6",null,"Est\xe1 seguro que desea eliminar el Rol?")),n.a.createElement(p.a.Footer,null,n.a.createElement(c.a,{disabled:t,variant:"secondary",onClick:function(){return e.toggleDeleteModal()}},"Cancelar"),n.a.createElement(c.a,{disabled:t,onClick:function(){return e.deleteRole(e.roleId)},variant:"primary"},"Eliminar")))};function J(){var e=y(["\n  display: block;\n  width: 100%;\n  color: #e66c1f;\n  text-align: right;\n  margin-top: 5px;\n"]);return J=function(){return e},e}I.a.div(J());var Q=function(e){var t=Object(r.useState)([]),a=t[0],o=t[1],i=e.isAdding||e.isAddSuccess,l=e.profiles.map((function(e){return{value:e.profileId.toString(),label:e.name}}));return n.a.createElement(p.a,{show:e.showModal,onHide:function(){return e.toggleAddModal()},centered:!0},n.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),handleSubmit()}},n.a.createElement(p.a.Header,{closeButton:!0},n.a.createElement(p.a.Title,{as:"h5"},"A\xf1adir Rol")),n.a.createElement(p.a.Body,null,n.a.createElement(m.a.Group,null,n.a.createElement(m.a.Label,null,"Nombre"),n.a.createElement(m.a.Control,{id:"name",name:"name",type:"text",className:"form-control",validate:function(e){var t;return e||(t="Campo requerido"),t},disabled:i})),n.a.createElement(m.a.Group,null,n.a.createElement(m.a.Label,null,"Descripci\xf3n"),n.a.createElement(m.a.Control,{className:"form-control",component:"textarea",name:"description",rows:"6",disabled:i})),n.a.createElement(m.a.Group,{controlId:"exampleForm.ControlTextarea1"},n.a.createElement(m.a.Label,null,"Perfiles"),n.a.createElement(v.a,{options:l,selected:a,onChange:o,disabled:i}))),n.a.createElement(p.a.Footer,null,n.a.createElement(c.a,{variant:"secondary",onClick:function(){return e.toggleAddModal()},disabled:i},"Cancelar"),n.a.createElement(c.a,{disabled:i,type:"submit",variant:"primary"},"Guardar"))))},W=function(e){var t=e.roleData.profileList,a=e.isUpdating||e.isUpdateSuccess,o=e.profiles.map((function(e){return{value:e.profileId.toString(),label:e.name}})),i=t.map((function(t){return e.profiles.filter((function(e){return e.profileId===t.profileId}))})).map((function(e){return e[0].profileId.toString()})),l=Object(r.useState)(i),s=l[0],d=l[1];return n.a.createElement(p.a,{show:e.showModal,onHide:function(){return e.toggleUpdateModal()},centered:!0},n.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),handleSubmit()}},n.a.createElement(p.a.Header,{closeButton:!0},n.a.createElement(p.a.Title,{as:"h5"},"Actualizar Rol")),n.a.createElement(p.a.Body,null,n.a.createElement(m.a.Group,null,n.a.createElement(m.a.Label,null,"Nombre"),n.a.createElement(m.a.Control,{id:"name",name:"name",type:"text",className:"form-control",validate:function(e){var t;return e||(t="Campo requerido"),t},disabled:a})),n.a.createElement(m.a.Group,null,n.a.createElement(m.a.Label,null,"Descripci\xf3n"),n.a.createElement(m.a.Control,{className:"form-control",component:"textarea",name:"description",rows:"6",disabled:a})),n.a.createElement(m.a.Group,{controlId:"exampleForm.ControlTextarea1"},n.a.createElement(m.a.Label,null,"Perfiles"),n.a.createElement(v.a,{options:o,selected:s,onChange:function(e){return d(e)},disabled:a}))),n.a.createElement(p.a.Footer,null,n.a.createElement(c.a,{variant:"secondary",onClick:function(){return e.toggleUpdateModal()},disabled:a},"Cancelar"),n.a.createElement(c.a,{disabled:a,type:"submit",variant:"primary"},"Guardar"))))},X=[{dataField:"name",text:"Rol",style:{whiteSpace:"pre-line",verticalAlign:"middle"}},{dataField:"description",text:"Descripci\xf3n",style:{verticalAlign:"middle",whiteSpace:"pre-line"}},{dataField:"actions",text:"Acciones",style:{verticalAlign:"middle"}}],Y=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={openDeleteRoleModal:!1,openAddRoleModal:!1,openUpdateRoleModal:!1,showLoader:!0,rolesData:null,roleData:null,roleId:null,currentRole:null,modalContent:null},t.toggleModal=function(e){t.setState((function(e){return{showLoader:e.openDeleteRoleModal,openDeleteRoleModal:!e.openDeleteRoleModal}})),t.props.reset()},t.toggleDeleteModal=function(){t.setState((function(e){return{showLoader:e.openDeleteRoleModal,openDeleteRoleModal:!e.openDeleteRoleModal}})),t.props.reset()},t.toggleAddModal=function(){t.setState((function(e){return{showLoader:e.openAddRoleModal,openAddRoleModal:!e.openAddRoleModal}})),t.props.reset()},t.toggleUpdateModal=function(e){h.a.isNil(e)||t.props.fetchRole(e),t.setState((function(e){return{showLoader:e.openUpdateRoleModal,openUpdateRoleModal:!e.openUpdateRoleModal,roleData:null}})),t.props.reset()},t.setCurrentId=function(e){t.setState({roleId:e})},t.expandRow={renderer:function(e){return n.a.createElement("div",null,n.a.createElement(w,{row:e}))},showExpandColumn:!0,expandByColumnOnly:!0,expandHeaderColumnRenderer:function(e){return!1},expandColumnRenderer:function(e){var t=e.expanded;return n.a.createElement(H,{expanded:t})}},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o=r.prototype;return o.componentDidMount=function(){},r.getDerivedStateFromProps=function(e,t){return h.a.isEqual(e.roles,t.rolesData)?h.a.isEqual(e.role,t.roleData)?null:{roleData:e.role}:{rolesData:e.roles}},o.render=function(){var e=this,t=this.state.rolesData.length>0?this.state.rolesData.map((function(t){return{id:t.rolId,profileList:t.profileList,name:n.a.createElement(z,{name:t.name}),description:n.a.createElement(_,{description:t.description}),actions:n.a.createElement(F,{roleId:t.rolId,setCurrentId:e.setCurrentId,openUpdateModal:e.toggleUpdateModal,openDeleteModal:e.toggleDeleteModal})}})):[];return n.a.createElement("div",null,n.a.createElement(j,{roleId:this.state.roleId,toggleDeleteModal:this.toggleDeleteModal,showModal:this.state.openDeleteRoleModal,deleteRole:this.props.deleteRole,isDeleting:this.props.isDeleting,isDeleteSuccess:this.props.isDeleteSuccess,isDeleteError:this.props.isDeleteError}),n.a.createElement(Q,{toggleAddModal:this.toggleAddModal,showModal:this.state.openAddRoleModal,profiles:this.props.profiles,addRole:this.props.addRole,isAdding:this.props.isAdding,isAddError:this.props.isAddError,isAddSuccess:this.props.isAddSuccess}),this.props.role&&!h.a.isEmpty(this.props.role)?n.a.createElement(W,{roleId:this.state.roleId,roleData:this.props.role,toggleUpdateModal:this.toggleUpdateModal,showModal:this.state.openUpdateRoleModal,profiles:this.props.profiles,updateRole:this.props.updateRole,isUpdating:this.props.isUpdating,isUpdateSuccess:this.props.isUpdateSuccess,isUpdateError:this.props.isUpdateError}):null,n.a.createElement(k,{handleView:this.toggleAddModal}),n.a.createElement(l.a,null,n.a.createElement(s.a,null,n.a.createElement("div",{className:"role-container-main"},n.a.createElement("div",{className:"role-container-header"},n.a.createElement("h5",null,"Lista de roles")),n.a.createElement("div",{className:"task-data"},n.a.createElement(f.a,{keyField:"id",data:t,columns:X,bordered:!1,expandRow:this.expandRow}))))))},r}(n.a.Component),Z=(a(98),[{rolId:59,name:"Consultas",description:"Ver espacios disponibles y generar reportes",profileList:[{profileId:4,name:"Confirmacion de Reservas",description:"Confirmacion de Reservas ya generadas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]},{profileId:5,name:"Agregar Datos",description:"Agregar datos a Reservas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]},{profileId:6,name:"Registrar Ingresos",description:"Registrar Ingresos a areas de recreo",moduleList:[{moduleId:2,name:"Cabin Administration",description:"Admin all cabin related events",actionList:[{actionId:1,name:"Create",description:"Create records",shortKey:"C"},{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"}]}]}]},{rolId:62,name:"Administraci\xf3n",description:"Cancelar reservaciones, confirmar reservacion",profileList:[{profileId:2,name:"Generar Reportes",description:"Generar Reportes generales",moduleList:[{moduleId:3,name:"Reports",description:"All app reports",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"}]}]},{profileId:3,name:"Cancelacion de Reservas",description:"Cancelacion de Reservas ya generadas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]},{profileId:4,name:"Confirmacion de Reservas",description:"Confirmacion de Reservas ya generadas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]},{profileId:5,name:"Agregar Datos",description:"Agregar datos a Reservas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]},{profileId:6,name:"Registrar Ingresos",description:"Registrar Ingresos a areas de recreo",moduleList:[{moduleId:2,name:"Cabin Administration",description:"Admin all cabin related events",actionList:[{actionId:1,name:"Create",description:"Create records",shortKey:"C"},{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"}]}]}]},{rolId:63,name:"Encargado de finca",description:"Registrar\xe1 el ingreso a las cabinas por los c",profileList:[]},{rolId:64,name:"Colegiados",description:"Son usuarios externos que reservan, permitir\xe1",profileList:[{profileId:2,name:"Generar Reportes",description:"Generar Reportes generales",moduleList:[{moduleId:3,name:"Reports",description:"All app reports",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"}]}]},{profileId:5,name:"Agregar Datos",description:"Agregar datos a Reservas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]}]}]),$={rolId:59,name:"Consulta",description:"Ver espacios disponibles y generar reportes",profileList:[{profileId:4,name:"Confirmacion de Reservas",description:"Confirmacion de Reservas ya generadas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]},{profileId:5,name:"Agregar Datos",description:"Agregar datos a Reservas",moduleList:[{moduleId:1,name:"Reservation",description:"Module to work with reservations ",actionList:[{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"},{actionId:4,name:"Delete",description:"Delete record",shortKey:"D"}]}]},{profileId:6,name:"Registrar Ingresos",description:"Registrar Ingresos a areas de recreo",moduleList:[{moduleId:2,name:"Cabin Administration",description:"Admin all cabin related events",actionList:[{actionId:1,name:"Create",description:"Create records",shortKey:"C"},{actionId:2,name:"Read",description:"Read records",shortKey:"R"},{actionId:3,name:"Update",description:"Update records",shortKey:"U"}]}]}]},ee=[{profileId:2,name:"Generar Reportes",description:"Generar Reportes generales",moduleList:null},{profileId:3,name:"Cancelacion de Reservas",description:"Cancelacion de Reservas ya generadas",moduleList:null},{profileId:4,name:"Confirmacion de Reservas",description:"Confirmacion de Reservas ya generadas",moduleList:null},{profileId:5,name:"Agregar Datos",description:"Agregar datos a Reservas",moduleList:null},{profileId:6,name:"Registrar Ingresos",description:"Registrar Ingresos a areas de recreo",moduleList:null}],te=function(){return n.a.createElement(Y,{roles:Z,role:$,profiles:ee,fetchRole:function(){},reset:function(){}})};i.a.render(n.a.createElement(te,null),document.getElementById("root"))},51:function(e,t,a){e.exports=a(100)},52:function(e,t,a){},98:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.9a890234.chunk.js.map